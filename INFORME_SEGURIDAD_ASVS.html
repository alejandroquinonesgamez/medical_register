<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="genindex.html"><link rel="search" title="Search" href="search.html"><link rel="next" title="Inicio Rápido" href="INICIO_RAPIDO.html"><link rel="prev" title="Requerimientos Funcionales" href="requeriments.html">

    <!-- Generated with Sphinx 8.1.3 and Furo 2025.09.25 -->
        <title>Informe de Análisis de Seguridad - Aplicación Médica - Medical Register 0.1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d111a655" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=580074bf" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=8dab3a3b" />
    
    


<style>
  body {
    --color-code-background: #f2f2f2;
  --color-code-foreground: #1e1e1e;
  --color-brand-primary: #254F6D;
  --color-brand-content: #254F6D;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle site navigation sidebar">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc" aria-label="Toggle table of contents sidebar">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <span class="icon"><svg><use href="#svg-menu"></use></svg></span>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">Medical Register 0.1.0 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contenido:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="manual.html">Manual de Usuario - Registro Personal de Peso e IMC</a></li>
<li class="toctree-l1"><a class="reference internal" href="requeriments.html">Requerimientos Funcionales</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Informe de Análisis de Seguridad - Aplicación Médica</a></li>
<li class="toctree-l1"><a class="reference internal" href="INICIO_RAPIDO.html">Inicio Rápido</a></li>
<li class="toctree-l1"><a class="reference internal" href="mockups/MOCKUPS.html">Mockups y Diagramas</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">DefectDojo:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="defectdojo/ANALISIS_CWE_699.html">Análisis de Seguridad según CWE-699</a></li>
<li class="toctree-l1"><a class="reference internal" href="defectdojo/ESTADO_ACTUAL_CWE_699.html">Estado Actual del Programa - Análisis CWE-699</a></li>
<li class="toctree-l1"><a class="reference internal" href="defectdojo/DEFECTDOJO_CONFIGURACION.html">Configuración de DefectDojo</a></li>
<li class="toctree-l1"><a class="reference internal" href="defectdojo/DEFECTDOJO_CREDENTIALS.html">Credenciales de DefectDojo</a></li>
<li class="toctree-l1"><a class="reference internal" href="defectdojo/DEFECTDOJO_DATABASE.html">Gestión de Base de Datos de DefectDojo</a></li>
<li class="toctree-l1"><a class="reference internal" href="defectdojo/DEFECTDOJO_INTEGRATION.html">Integración de DefectDojo</a></li>
<li class="toctree-l1"><a class="reference internal" href="defectdojo/DEFECTDOJO_FLUJO_CREACION_RESOLUCION.html">Flujo de Creación y Resolución de Findings en DefectDojo</a></li>
<li class="toctree-l1"><a class="reference internal" href="defectdojo/DEFECTDOJO_FLUJO_IMPLEMENTADO.html">Flujo de Creación → Resolución Implementado en DefectDojo</a></li>
<li class="toctree-l1"><a class="reference internal" href="defectdojo/MAKE_ALL_USO.html">Uso de <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">update</span></code> - Flujo Completo de DefectDojo</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="_sources/INFORME_SEGURIDAD_ASVS.md.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="informe-de-analisis-de-seguridad-aplicacion-medica">
<h1>Informe de Análisis de Seguridad - Aplicación Médica<a class="headerlink" href="#informe-de-analisis-de-seguridad-aplicacion-medica" title="Link to this heading">¶</a></h1>
<p><strong>Fecha de análisis</strong>: 2025-11-29<br />
<strong>Versión analizada</strong>: Versión actual (post-implementación de mejoras de seguridad)<br />
<strong>Estándar de referencia</strong>: OWASP Application Security Verification Standard (ASVS)
<strong>Práctica</strong>: Análisis de seguridad y determinación de nivel ASVS</p>
<hr class="docutils" />
<section id="descripcion-breve-de-la-aplicacion-analizada">
<h2>1. Descripción Breve de la Aplicación Analizada<a class="headerlink" href="#descripcion-breve-de-la-aplicacion-analizada" title="Link to this heading">¶</a></h2>
<section id="proposito-y-funcionalidad">
<h3>1.1. Propósito y Funcionalidad<a class="headerlink" href="#proposito-y-funcionalidad" title="Link to this heading">¶</a></h3>
<p>La aplicación es una herramienta web <strong>monousuario</strong> diseñada para el registro personal de peso, talla y cálculo del Índice de Masa Corporal (IMC). Su objetivo principal es permitir a un único usuario realizar un seguimiento de su peso corporal y obtener información sobre su estado nutricional mediante el cálculo automático del IMC.</p>
</section>
<section id="caracteristicas-principales">
<h3>1.2. Características Principales<a class="headerlink" href="#caracteristicas-principales" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><strong>Registro de datos personales</strong>: Nombre, apellidos, fecha de nacimiento y talla (en metros)</p></li>
<li><p><strong>Registro de peso</strong>: Permite registrar el peso actual con fecha y hora automáticas</p></li>
<li><p><strong>Cálculo automático de IMC</strong>: Calcula y muestra el Índice de Masa Corporal basado en el último peso registrado</p></li>
<li><p><strong>Estadísticas históricas</strong>: Muestra número de pesajes, peso máximo y peso mínimo registrados</p></li>
<li><p><strong>Sincronización bidireccional</strong>: Entre frontend (localStorage) y backend (memoria)</p></li>
<li><p><strong>Modo offline</strong>: Funciona sin conexión al servidor utilizando almacenamiento local</p></li>
</ul>
</section>
<section id="arquitectura-tecnica">
<h3>1.3. Arquitectura Técnica<a class="headerlink" href="#arquitectura-tecnica" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><strong>Backend</strong>: Flask (Python) con API REST</p></li>
<li><p><strong>Frontend</strong>: JavaScript vanilla con almacenamiento en localStorage</p></li>
<li><p><strong>Almacenamiento</strong>: Memoria en backend + localStorage en frontend</p></li>
<li><p><strong>Tests</strong>: 86 tests backend (pytest) + ~66 tests frontend (Jest)</p></li>
<li><p><strong>Gestión de vulnerabilidades</strong>: DefectDojo integrado para seguimiento de debilidades de seguridad</p></li>
</ul>
</section>
<section id="analisis-de-datos-que-maneja-la-aplicacion">
<h3>1.4. Análisis de Datos que Maneja la Aplicación<a class="headerlink" href="#analisis-de-datos-que-maneja-la-aplicacion" title="Link to this heading">¶</a></h3>
<p>La aplicación maneja diferentes tipos de datos que requieren diferentes niveles de protección:</p>
<section id="datos-sensibles-personales-de-salud">
<h4>1.4.1. <strong>Datos Sensibles (Personales de Salud)</strong><a class="headerlink" href="#datos-sensibles-personales-de-salud" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p><strong>Peso corporal (kg)</strong>: Dato biométrico personal</p></li>
<li><p><strong>Talla/Altura (m)</strong>: Dato biométrico personal</p></li>
<li><p><strong>Fecha de nacimiento</strong>: Permite inferir edad y otros datos demográficos</p></li>
<li><p><strong>Nombre completo</strong>: Identificador personal</p></li>
<li><p><strong>Apellidos</strong>: Identificador personal</p></li>
</ul>
<p><strong>Clasificación según RGPD</strong>: Estos datos están categorizados como <strong>datos personales sensibles</strong> según el Reglamento General de Protección de Datos, ya que los datos de salud (peso, altura, IMC) están incluidos en la categoría de datos especiales.</p>
<p><strong>Almacenamiento actual</strong>:</p>
<ul class="simple">
<li><p>Frontend: localStorage del navegador (cliente)</p></li>
<li><p>Backend: Memoria (volátil, se pierde al reiniciar)</p></li>
</ul>
</section>
<section id="datos-internos">
<h4>1.4.2. <strong>Datos Internos</strong><a class="headerlink" href="#datos-internos" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p><strong>ID de usuario</strong>: Constante (USER_ID = 1) - Monousuario</p></li>
<li><p><strong>Fecha y hora de registros de peso</strong>: Metadatos de los pesajes</p></li>
<li><p><strong>Cálculos derivados</strong>: IMC, estadísticas (peso máximo, mínimo, número de pesajes)</p></li>
</ul>
</section>
<section id="datos-publicos">
<h4>1.4.3. <strong>Datos Públicos</strong><a class="headerlink" href="#datos-publicos" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p><strong>Interfaz de usuario</strong>: Textos de la aplicación, mensajes, traducciones</p></li>
<li><p><strong>Configuración de límites de validación</strong>: Límites de peso y altura permitidos</p></li>
</ul>
</section>
</section>
<section id="contexto-de-seguridad">
<h3>1.5. Contexto de Seguridad<a class="headerlink" href="#contexto-de-seguridad" title="Link to this heading">¶</a></h3>
<p>La aplicación maneja <strong>datos de salud personales</strong> (peso, altura, fecha de nacimiento), aunque en un contexto monousuario y sin autenticación compleja. No almacena datos médicos críticos ni información de identificación sensible como DNI o números de seguridad social, pero sí información personal que requiere protección adecuada según estándares de protección de datos.</p>
</section>
</section>
<hr class="docutils" />
<section id="identificacion-de-vectores-de-ataque-potenciales">
<h2>2. Identificación de Vectores de Ataque Potenciales<a class="headerlink" href="#identificacion-de-vectores-de-ataque-potenciales" title="Link to this heading">¶</a></h2>
<section id="funcionalidades-susceptibles-a-ataques">
<h3>2.0. Funcionalidades Susceptibles a Ataques<a class="headerlink" href="#funcionalidades-susceptibles-a-ataques" title="Link to this heading">¶</a></h3>
<p>La aplicación incluye las siguientes funcionalidades que pueden ser susceptibles a ataques:</p>
<section id="formularios-de-registro-de-datos">
<h4>2.0.1. <strong>Formularios de Registro de Datos</strong><a class="headerlink" href="#formularios-de-registro-de-datos" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p><strong>Formulario de perfil de usuario</strong>: Captura nombre, apellidos, fecha de nacimiento y talla</p></li>
<li><p><strong>Formulario de registro de peso</strong>: Captura peso actual con validación de variación diaria</p></li>
<li><p><strong>Vector de ataque</strong>: Inyección de datos maliciosos, validación de tipos insuficiente</p></li>
</ul>
</section>
<section id="api-rest-sin-autenticacion">
<h4>2.0.2. <strong>API REST sin Autenticación</strong><a class="headerlink" href="#api-rest-sin-autenticacion" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p><strong>Endpoints públicos</strong>: <code class="docutils literal notranslate"><span class="pre">/api/user</span></code>, <code class="docutils literal notranslate"><span class="pre">/api/weight</span></code>, <code class="docutils literal notranslate"><span class="pre">/api/imc</span></code>, <code class="docutils literal notranslate"><span class="pre">/api/stats</span></code></p></li>
<li><p><strong>Métodos HTTP</strong>: GET, POST sin autenticación</p></li>
<li><p><strong>Vector de ataque</strong>: Acceso no autorizado, manipulación de datos, CSRF</p></li>
</ul>
</section>
<section id="almacenamiento-local-localstorage">
<h4>2.0.3. <strong>Almacenamiento Local (localStorage)</strong><a class="headerlink" href="#almacenamiento-local-localstorage" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p><strong>Datos en cliente</strong>: Todos los datos se almacenan en localStorage del navegador</p></li>
<li><p><strong>Vector de ataque</strong>: Acceso a datos si el dispositivo es comprometido, XSS que puede leer/escribir localStorage</p></li>
</ul>
</section>
<section id="calculos-matematicos-imc">
<h4>2.0.4. <strong>Cálculos Matemáticos (IMC)</strong><a class="headerlink" href="#calculos-matematicos-imc" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p><strong>Fórmula IMC</strong>: <code class="docutils literal notranslate"><span class="pre">peso</span> <span class="pre">/</span> <span class="pre">(altura²)</span></code></p></li>
<li><p><strong>Vector de ataque</strong>: Valores NaN, Infinity que pueden causar errores o resultados incorrectos</p></li>
</ul>
</section>
<section id="integracion-con-defectdojo">
<h4>2.0.5. <strong>Integración con DefectDojo</strong><a class="headerlink" href="#integracion-con-defectdojo" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p><strong>Endpoints de importación/exportación</strong>: <code class="docutils literal notranslate"><span class="pre">/api/defectdojo/export-dump</span></code>, <code class="docutils literal notranslate"><span class="pre">/api/defectdojo/import-dump</span></code></p></li>
<li><p><strong>Vector de ataque</strong>: Ejecución de comandos del sistema, manipulación de base de datos</p></li>
</ul>
<p>Basado en el análisis CWE-699 (Software Development) realizado, se han identificado los siguientes vectores de ataque potenciales:</p>
</section>
</section>
<section id="vectores-de-ataque-identificados">
<h3>2.1. Vectores de Ataque Identificados<a class="headerlink" href="#vectores-de-ataque-identificados" title="Link to this heading">¶</a></h3>
<section id="inyeccion-de-datos-maliciosos-type-confusion">
<h4>2.1.1. <strong>Inyección de Datos Maliciosos (Type Confusion)</strong><a class="headerlink" href="#inyeccion-de-datos-maliciosos-type-confusion" title="Link to this heading">¶</a></h4>
<p><strong>CWE-1287</strong>: Improper Validation of Specified Type of Input<br />
<strong>CWE-843</strong>: Access of Resource Using Incompatible Type</p>
<p><strong>Ubicación</strong>:</p>
<ul class="simple">
<li><p>Backend: <code class="docutils literal notranslate"><span class="pre">app/routes.py</span></code> (conversiones de <code class="docutils literal notranslate"><span class="pre">float()</span></code>)</p></li>
<li><p>Frontend: <code class="docutils literal notranslate"><span class="pre">app/static/js/main.js</span></code>, <code class="docutils literal notranslate"><span class="pre">app/static/js/storage.js</span></code> (conversiones de <code class="docutils literal notranslate"><span class="pre">parseFloat()</span></code>)</p></li>
</ul>
<p><strong>Vector de ataque</strong>:</p>
<ul class="simple">
<li><p>Envío de valores no numéricos que se convierten a <code class="docutils literal notranslate"><span class="pre">NaN</span></code> o <code class="docutils literal notranslate"><span class="pre">Infinity</span></code></p></li>
<li><p>Propagación de valores inválidos en cálculos matemáticos (IMC)</p></li>
<li><p>Causa de errores en la aplicación o resultados incorrectos</p></li>
</ul>
<p><strong>Ejemplo de ataque</strong>:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// Atacante envía: { &quot;talla_m&quot;: &quot;NaN&quot; }</span>
<span class="c1">// Resultado: parseFloat(&quot;NaN&quot;) = NaN</span>
<span class="c1">// IMC calculado con NaN = NaN (resultado inválido)</span>
</pre></div>
</div>
</section>
<section id="clickjacking-ui-redressing">
<h4>2.1.2. <strong>Clickjacking (UI Redressing)</strong><a class="headerlink" href="#clickjacking-ui-redressing" title="Link to this heading">¶</a></h4>
<p><strong>CWE-1021</strong>: Improper Restriction of Rendered UI Layers or Frames</p>
<p><strong>Estado</strong>: ✅ <strong>RESUELTO</strong> - Headers de seguridad implementados</p>
<p><strong>Ubicación</strong>: <code class="docutils literal notranslate"><span class="pre">app/__init__.py</span></code> (líneas 28-36)</p>
<p><strong>Vector de ataque original</strong>:</p>
<ul class="simple">
<li><p>Inclusión de la aplicación en un iframe malicioso</p></li>
<li><p>Superposición de elementos invisibles sobre la interfaz</p></li>
<li><p>Manipulación de acciones del usuario sin su conocimiento</p></li>
</ul>
<p><strong>Mitigación implementada</strong>:</p>
<ul class="simple">
<li><p>✅ <code class="docutils literal notranslate"><span class="pre">X-Frame-Options:</span> <span class="pre">DENY</span></code> - Previene que la aplicación se muestre en iframes</p></li>
<li><p>✅ <code class="docutils literal notranslate"><span class="pre">Content-Security-Policy:</span> <span class="pre">frame-ancestors</span> <span class="pre">'none'</span></code> - Política adicional contra frames</p></li>
<li><p>✅ <code class="docutils literal notranslate"><span class="pre">X-Content-Type-Options:</span> <span class="pre">nosniff</span></code> - Previene MIME type sniffing</p></li>
<li><p>✅ <code class="docutils literal notranslate"><span class="pre">X-XSS-Protection:</span> <span class="pre">1;</span> <span class="pre">mode=block</span></code> - Protección adicional contra XSS</p></li>
</ul>
<p><strong>Ejemplo de ataque previo</strong>:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="cm">&lt;!-- Sitio malicioso --&gt;</span>
<span class="p">&lt;</span><span class="nt">iframe</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;http://aplicacion-medica.com&quot;</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;opacity:0.1&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">iframe</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">button</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;position:absolute; top:100px; left:100px&quot;</span><span class="p">&gt;</span>Click aquí<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="cm">&lt;!-- Usuario cree que hace clic en el botón, pero realmente interactúa con la app --&gt;</span>
</pre></div>
</div>
<p><em>(Ahora bloqueado por los headers de seguridad)</em></p>
</section>
<section id="cross-origin-resource-sharing-cors-permisivo">
<h4>2.1.3. <strong>Cross-Origin Resource Sharing (CORS) Permisivo</strong><a class="headerlink" href="#cross-origin-resource-sharing-cors-permisivo" title="Link to this heading">¶</a></h4>
<p><strong>CWE-942</strong>: Overly Permissive Cross-domain Whitelist</p>
<p><strong>Ubicación</strong>: <code class="docutils literal notranslate"><span class="pre">app/__init__.py</span></code> (configuración CORS con <code class="docutils literal notranslate"><span class="pre">origins:</span> <span class="pre">&quot;*&quot;</span></code>)</p>
<p><strong>Vector de ataque</strong>:</p>
<ul class="simple">
<li><p>Cualquier sitio web puede realizar peticiones a la API</p></li>
<li><p>Aumento de la superficie de ataque si el backend se expone fuera de <code class="docutils literal notranslate"><span class="pre">localhost</span></code></p></li>
<li><p>Posibilidad de realizar ataques CSRF desde dominios externos</p></li>
</ul>
<p><strong>Ejemplo de ataque</strong>:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// Desde cualquier sitio web malicioso</span>
<span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;http://aplicacion-medica.com/api/user&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;POST&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="s1">&#39;Content-Type&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;application/json&#39;</span><span class="p">},</span>
<span class="w">    </span><span class="nx">body</span><span class="o">:</span><span class="w"> </span><span class="nb">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span><span class="nx">nombre</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Ataque&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">talla_m</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;NaN&#39;</span><span class="p">})</span>
<span class="p">});</span>
</pre></div>
</div>
</section>
<section id="manejo-inadecuado-de-excepciones">
<h4>2.1.4. <strong>Manejo Inadecuado de Excepciones</strong><a class="headerlink" href="#manejo-inadecuado-de-excepciones" title="Link to this heading">¶</a></h4>
<p><strong>CWE-703</strong>: Improper Check or Handling of Exceptional Conditions</p>
<p><strong>Ubicación</strong>: <code class="docutils literal notranslate"><span class="pre">app/routes.py</span></code> (uso de <code class="docutils literal notranslate"><span class="pre">Exception</span></code> genérico)</p>
<p><strong>Vector de ataque</strong>:</p>
<ul class="simple">
<li><p>Ocultación de errores inesperados que podrían indicar vulnerabilidades</p></li>
<li><p>Dificultad para detectar y responder a ataques</p></li>
<li><p>Información de error insuficiente para debugging y monitoreo</p></li>
</ul>
</section>
<section id="validacion-de-entrada-insuficiente-resuelto">
<h4>2.1.5. <strong>Validación de Entrada Insuficiente (Resuelto)</strong><a class="headerlink" href="#validacion-de-entrada-insuficiente-resuelto" title="Link to this heading">¶</a></h4>
<p><strong>CWE-20</strong>: Improper Input Validation</p>
<p><strong>Estado</strong>: ✅ <strong>RESUELTO</strong> - Se implementó validación robusta de nombres con sanitización</p>
<p><strong>Ubicación</strong>: <code class="docutils literal notranslate"><span class="pre">app/helpers.py</span></code>, <code class="docutils literal notranslate"><span class="pre">app/routes.py</span></code>, <code class="docutils literal notranslate"><span class="pre">app/static/js/main.js</span></code></p>
<p><strong>Vector de ataque original</strong>:</p>
<ul class="simple">
<li><p>Inyección de caracteres peligrosos (<code class="docutils literal notranslate"><span class="pre">&lt;</span> <span class="pre">&gt;</span> <span class="pre">&quot;</span> <span class="pre">'</span></code>)</p></li>
<li><p>Ataques XSS potenciales</p></li>
<li><p>Corrupción de datos almacenados</p></li>
</ul>
</section>
</section>
</section>
<hr class="docutils" />
<section id="analisis-de-riesgos-asociados">
<h2>3. Análisis de Riesgos Asociados<a class="headerlink" href="#analisis-de-riesgos-asociados" title="Link to this heading">¶</a></h2>
<section id="matriz-de-riesgos">
<h3>3.1. Matriz de Riesgos<a class="headerlink" href="#matriz-de-riesgos" title="Link to this heading">¶</a></h3>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>CWE</p></th>
<th class="head"><p>Vector de Ataque</p></th>
<th class="head"><p>Probabilidad</p></th>
<th class="head"><p>Impacto</p></th>
<th class="head"><p>Riesgo</p></th>
<th class="head"><p>Estado</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>CWE-1287</strong></p></td>
<td><p>Type Confusion (Backend)</p></td>
<td><p>Media</p></td>
<td><p>Medio</p></td>
<td><p><strong>MEDIO</strong></p></td>
<td><p>⚠️ Pendiente</p></td>
</tr>
<tr class="row-odd"><td><p><strong>CWE-843</strong></p></td>
<td><p>Type Confusion (Frontend)</p></td>
<td><p>Media</p></td>
<td><p>Medio</p></td>
<td><p><strong>MEDIO</strong></p></td>
<td><p>⚠️ Pendiente</p></td>
</tr>
<tr class="row-even"><td><p><strong>CWE-1021</strong></p></td>
<td><p>Clickjacking</p></td>
<td><p>Baja</p></td>
<td><p>Medio</p></td>
<td><p><strong>MEDIO</strong></p></td>
<td><p>✅ Resuelto</p></td>
</tr>
<tr class="row-odd"><td><p><strong>CWE-942</strong></p></td>
<td><p>CORS Permisivo</p></td>
<td><p>Baja*</p></td>
<td><p>Alto*</p></td>
<td><p><strong>MEDIO/ALTO</strong>*</p></td>
<td><p>⏸️ Pendiente</p></td>
</tr>
<tr class="row-even"><td><p><strong>CWE-703</strong></p></td>
<td><p>Manejo de Excepciones</p></td>
<td><p>Baja</p></td>
<td><p>Bajo</p></td>
<td><p><strong>BAJO</strong></p></td>
<td><p>⚠️ Mejorado parcialmente</p></td>
</tr>
<tr class="row-odd"><td><p><strong>CWE-20</strong></p></td>
<td><p>Validación de Entrada</p></td>
<td><p>Media</p></td>
<td><p>Medio</p></td>
<td><p><strong>MEDIO</strong></p></td>
<td><p>✅ Resuelto</p></td>
</tr>
</tbody>
</table>
</div>
<p>*<em>Riesgo aumenta significativamente si el backend se expone fuera de <code class="docutils literal notranslate"><span class="pre">localhost</span></code></em></p>
</section>
<section id="analisis-detallado-de-riesgos">
<h3>3.2. Análisis Detallado de Riesgos<a class="headerlink" href="#analisis-detallado-de-riesgos" title="Link to this heading">¶</a></h3>
<section id="riesgo-medio-type-confusion-cwe-1287-cwe-843">
<h4>3.2.1. <strong>Riesgo MEDIO: Type Confusion (CWE-1287, CWE-843)</strong><a class="headerlink" href="#riesgo-medio-type-confusion-cwe-1287-cwe-843" title="Link to this heading">¶</a></h4>
<p><strong>Descripción del riesgo</strong>:</p>
<ul class="simple">
<li><p>Los valores <code class="docutils literal notranslate"><span class="pre">NaN</span></code> e <code class="docutils literal notranslate"><span class="pre">Infinity</span></code> pueden propagarse en cálculos matemáticos</p></li>
<li><p>Resultados de IMC incorrectos o inválidos</p></li>
<li><p>Posible corrupción de datos almacenados</p></li>
</ul>
<p><strong>Impacto en el negocio</strong>:</p>
<ul class="simple">
<li><p><strong>Integridad de datos</strong>: Los datos almacenados pueden volverse inválidos</p></li>
<li><p><strong>Confiabilidad</strong>: Los usuarios pueden recibir información incorrecta sobre su IMC</p></li>
<li><p><strong>Experiencia de usuario</strong>: Errores en la aplicación que afectan la usabilidad</p></li>
</ul>
<p><strong>Mitigación actual</strong>:</p>
<ul class="simple">
<li><p>✅ Validaciones defensivas antes de calcular IMC (backend y frontend)</p></li>
<li><p>⚠️ Falta validación de <code class="docutils literal notranslate"><span class="pre">NaN</span></code> e <code class="docutils literal notranslate"><span class="pre">Infinity</span></code> después de conversiones</p></li>
</ul>
<p><strong>Recomendación</strong>:</p>
<ul class="simple">
<li><p>Implementar validación de tipos antes de conversión</p></li>
<li><p>Verificar que los números sean finitos después de <code class="docutils literal notranslate"><span class="pre">float()</span></code> y <code class="docutils literal notranslate"><span class="pre">parseFloat()</span></code></p></li>
</ul>
</section>
<section id="riesgo-medio-clickjacking-cwe-1021-resuelto">
<h4>3.2.2. <strong>Riesgo MEDIO: Clickjacking (CWE-1021) - RESUELTO</strong><a class="headerlink" href="#riesgo-medio-clickjacking-cwe-1021-resuelto" title="Link to this heading">¶</a></h4>
<p><strong>Descripción del riesgo</strong> (anterior):</p>
<ul class="simple">
<li><p>La aplicación puede ser embebida en iframes maliciosos</p></li>
<li><p>Los usuarios pueden ser engañados para realizar acciones no deseadas</p></li>
<li><p>Posible robo de datos personales mediante superposición de elementos</p></li>
</ul>
<p><strong>Impacto en el negocio</strong> (anterior):</p>
<ul class="simple">
<li><p><strong>Confidencialidad</strong>: Los datos personales pueden ser comprometidos</p></li>
<li><p><strong>Integridad</strong>: Los datos pueden ser modificados sin consentimiento del usuario</p></li>
<li><p><strong>Reputación</strong>: Pérdida de confianza si se explota esta vulnerabilidad</p></li>
</ul>
<p><strong>Mitigación implementada</strong>:</p>
<ul class="simple">
<li><p>✅ <code class="docutils literal notranslate"><span class="pre">X-Frame-Options:</span> <span class="pre">DENY</span></code> - Implementado en <code class="docutils literal notranslate"><span class="pre">app/__init__.py</span></code></p></li>
<li><p>✅ <code class="docutils literal notranslate"><span class="pre">Content-Security-Policy:</span> <span class="pre">frame-ancestors</span> <span class="pre">'none'</span></code> - Implementado</p></li>
<li><p>✅ <code class="docutils literal notranslate"><span class="pre">X-Content-Type-Options:</span> <span class="pre">nosniff</span></code> - Implementado</p></li>
<li><p>✅ <code class="docutils literal notranslate"><span class="pre">X-XSS-Protection:</span> <span class="pre">1;</span> <span class="pre">mode=block</span></code> - Protección adicional</p></li>
</ul>
<p><strong>Estado</strong>: ✅ <strong>VULNERABILIDAD RESUELTA</strong> - Los headers de seguridad protegen contra clickjacking</p>
</section>
<section id="riesgo-medio-alto-cors-permisivo-cwe-942">
<h4>3.2.3. <strong>Riesgo MEDIO/ALTO: CORS Permisivo (CWE-942)</strong><a class="headerlink" href="#riesgo-medio-alto-cors-permisivo-cwe-942" title="Link to this heading">¶</a></h4>
<p><strong>Descripción del riesgo</strong>:</p>
<ul class="simple">
<li><p>Cualquier sitio web puede realizar peticiones a la API</p></li>
<li><p>Aumento significativo de la superficie de ataque en producción</p></li>
<li><p>Posibilidad de ataques CSRF desde dominios externos</p></li>
</ul>
<p><strong>Impacto en el negocio</strong>:</p>
<ul class="simple">
<li><p><strong>Confidencialidad</strong>: Datos pueden ser accedidos desde sitios maliciosos</p></li>
<li><p><strong>Integridad</strong>: Datos pueden ser modificados mediante ataques CSRF</p></li>
<li><p><strong>Disponibilidad</strong>: Posible denegación de servicio mediante peticiones masivas</p></li>
</ul>
<p><strong>Mitigación actual</strong>:</p>
<ul class="simple">
<li><p>⚠️ CORS configurado con <code class="docutils literal notranslate"><span class="pre">origins:</span> <span class="pre">&quot;*&quot;</span></code> (permite cualquier origen)</p></li>
<li><p>✅ Actualmente solo accesible desde <code class="docutils literal notranslate"><span class="pre">localhost</span></code> (riesgo limitado)</p></li>
</ul>
<p><strong>Recomendación</strong>:</p>
<ul class="simple">
<li><p>Restringir CORS a dominios específicos cuando se exponga el backend</p></li>
<li><p>Implementar validación de origen en producción</p></li>
<li><p>Considerar implementar tokens CSRF para operaciones sensibles</p></li>
</ul>
</section>
<section id="riesgo-bajo-manejo-de-excepciones-cwe-703">
<h4>3.2.4. <strong>Riesgo BAJO: Manejo de Excepciones (CWE-703)</strong><a class="headerlink" href="#riesgo-bajo-manejo-de-excepciones-cwe-703" title="Link to this heading">¶</a></h4>
<p><strong>Descripción del riesgo</strong>:</p>
<ul class="simple">
<li><p>Uso de <code class="docutils literal notranslate"><span class="pre">Exception</span></code> genérico puede ocultar errores inesperados</p></li>
<li><p>Dificultad para detectar y responder a vulnerabilidades</p></li>
<li><p>Información de error insuficiente para monitoreo</p></li>
</ul>
<p><strong>Impacto en el negocio</strong>:</p>
<ul class="simple">
<li><p><strong>Mantenibilidad</strong>: Dificultad para identificar y corregir problemas</p></li>
<li><p><strong>Seguridad</strong>: Errores de seguridad pueden pasar desapercibidos</p></li>
</ul>
<p><strong>Mitigación actual</strong>:</p>
<ul class="simple">
<li><p>✅ Validación de nombres usa manejo estructurado de errores</p></li>
<li><p>⚠️ Conversiones de <code class="docutils literal notranslate"><span class="pre">float()</span></code> aún usan <code class="docutils literal notranslate"><span class="pre">Exception</span></code> genérico</p></li>
</ul>
<p><strong>Recomendación</strong>:</p>
<ul class="simple">
<li><p>Especificar excepciones concretas (<code class="docutils literal notranslate"><span class="pre">ValueError</span></code>, <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>, <code class="docutils literal notranslate"><span class="pre">KeyError</span></code>)</p></li>
<li><p>Implementar logging detallado de errores</p></li>
</ul>
</section>
</section>
<section id="resumen-de-riesgos-por-categoria">
<h3>3.3. Resumen de Riesgos por Categoría<a class="headerlink" href="#resumen-de-riesgos-por-categoria" title="Link to this heading">¶</a></h3>
<p><strong>Riesgos Críticos</strong>: Ninguno identificado</p>
<p><strong>Riesgos Altos</strong>:</p>
<ul class="simple">
<li><p>CWE-942 (CORS) - Solo si se expone fuera de <code class="docutils literal notranslate"><span class="pre">localhost</span></code></p></li>
</ul>
<p><strong>Riesgos Medios</strong>:</p>
<ul class="simple">
<li><p>CWE-1287 (Type Confusion Backend)</p></li>
<li><p>CWE-843 (Type Confusion Frontend)</p></li>
</ul>
<p><strong>Riesgos Bajos</strong>:</p>
<ul class="simple">
<li><p>CWE-703 (Manejo de Excepciones)</p></li>
</ul>
<p><strong>Riesgos Resueltos</strong>:</p>
<ul class="simple">
<li><p>CWE-20 (Validación de Entrada) ✅</p></li>
</ul>
</section>
</section>
<hr class="docutils" />
<section id="nivel-asvs-seleccionado-con-justificacion">
<h2>4. Nivel ASVS Seleccionado, con Justificación<a class="headerlink" href="#nivel-asvs-seleccionado-con-justificacion" title="Link to this heading">¶</a></h2>
<section id="owasp-application-security-verification-standard-asvs">
<h3>4.1. OWASP Application Security Verification Standard (ASVS)<a class="headerlink" href="#owasp-application-security-verification-standard-asvs" title="Link to this heading">¶</a></h3>
<p>El <strong>OWASP Application Security Verification Standard (ASVS)</strong> es un estándar de seguridad para aplicaciones web que define tres niveles de verificación:</p>
<ul class="simple">
<li><p><strong>Nivel 1 (Básico)</strong>: Para aplicaciones de bajo riesgo, con controles de seguridad básicos</p></li>
<li><p><strong>Nivel 2 (Estándar)</strong>: Para aplicaciones de riesgo estándar, con controles de seguridad estándar</p></li>
<li><p><strong>Nivel 3 (Avanzado)</strong>: Para aplicaciones de alto riesgo, con controles de seguridad avanzados</p></li>
</ul>
</section>
<section id="nivel-seleccionado-nivel-2-estandar">
<h3>4.2. Nivel Seleccionado: <strong>NIVEL 2 (ESTÁNDAR)</strong><a class="headerlink" href="#nivel-seleccionado-nivel-2-estandar" title="Link to this heading">¶</a></h3>
</section>
<section id="justificacion-de-la-seleccion">
<h3>4.3. Justificación de la Selección<a class="headerlink" href="#justificacion-de-la-seleccion" title="Link to this heading">¶</a></h3>
<section id="naturaleza-de-los-datos">
<h4>4.3.1. <strong>Naturaleza de los Datos</strong><a class="headerlink" href="#naturaleza-de-los-datos" title="Link to this heading">¶</a></h4>
<p>La aplicación maneja <strong>datos de salud personales</strong> (peso, altura, fecha de nacimiento), aunque no sean datos médicos críticos ni información de identificación sensible. Según el Reglamento General de Protección de Datos (RGPD), los datos de salud están categorizados como <strong>datos personales sensibles</strong>, lo que requiere un nivel de protección superior al básico.</p>
<p><strong>Justificación</strong>: Aunque los datos no son críticos, el hecho de ser datos de salud justifica un nivel de seguridad estándar (Nivel 2) en lugar de básico (Nivel 1).</p>
</section>
<section id="contexto-de-uso">
<h4>4.3.2. <strong>Contexto de Uso</strong><a class="headerlink" href="#contexto-de-uso" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p><strong>Monousuario</strong>: La aplicación es monousuario, lo que reduce el riesgo de exposición de datos entre usuarios</p></li>
<li><p><strong>Sin autenticación compleja</strong>: No requiere autenticación robusta, lo que limita algunos vectores de ataque</p></li>
<li><p><strong>Almacenamiento local</strong>: Los datos se almacenan principalmente en localStorage, reduciendo el riesgo de exposición en el servidor</p></li>
</ul>
<p><strong>Justificación</strong>: El contexto monousuario y el almacenamiento local reducen algunos riesgos, pero no eliminan la necesidad de controles de seguridad estándar.</p>
</section>
<section id="id1">
<h4>4.3.3. <strong>Vectores de Ataque Identificados</strong><a class="headerlink" href="#id1" title="Link to this heading">¶</a></h4>
<p>El análisis CWE-699 identificó <strong>6 debilidades de seguridad</strong>, de las cuales:</p>
<ul class="simple">
<li><p>1 está resuelta (CWE-20)</p></li>
<li><p>4 requieren atención (CWE-1287, CWE-843, CWE-1021, CWE-942)</p></li>
<li><p>1 está mejorada parcialmente (CWE-703)</p></li>
</ul>
<p><strong>Justificación</strong>: La presencia de múltiples debilidades de seguridad de severidad media justifica la implementación de controles de seguridad estándar (Nivel 2) en lugar de básicos (Nivel 1).</p>
</section>
<section id="requisitos-de-cumplimiento">
<h4>4.3.4. <strong>Requisitos de Cumplimiento</strong><a class="headerlink" href="#requisitos-de-cumplimiento" title="Link to this heading">¶</a></h4>
<p>Aunque la aplicación no maneja datos médicos críticos, el manejo de datos de salud personales puede requerir cumplimiento con:</p>
<ul class="simple">
<li><p><strong>RGPD</strong>: Reglamento General de Protección de Datos</p></li>
<li><p><strong>Estándares de seguridad de aplicaciones web</strong>: Buenas prácticas de la industria</p></li>
</ul>
<p><strong>Justificación</strong>: El cumplimiento con estándares de seguridad de la industria y protección de datos personales requiere al menos un nivel estándar de seguridad (Nivel 2).</p>
</section>
<section id="por-que-no-nivel-3-avanzado">
<h4>4.3.5. <strong>Por qué NO Nivel 3 (Avanzado)</strong><a class="headerlink" href="#por-que-no-nivel-3-avanzado" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>No maneja datos médicos críticos</p></li>
<li><p>No requiere autenticación multi-factor</p></li>
<li><p>No tiene requisitos de alta disponibilidad</p></li>
<li><p>No maneja transacciones financieras</p></li>
<li><p>No es una aplicación crítica para la vida</p></li>
</ul>
<p><strong>Justificación</strong>: La aplicación no cumple con los criterios para requerir controles de seguridad avanzados (Nivel 3).</p>
</section>
<section id="por-que-no-nivel-1-basico">
<h4>4.3.6. <strong>Por qué NO Nivel 1 (Básico)</strong><a class="headerlink" href="#por-que-no-nivel-1-basico" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Maneja datos de salud personales (datos sensibles según RGPD)</p></li>
<li><p>Identificadas múltiples debilidades de seguridad de severidad media</p></li>
<li><p>Requiere protección contra vectores de ataque comunes (clickjacking, CORS, type confusion)</p></li>
</ul>
<p><strong>Justificación</strong>: La naturaleza de los datos y los vectores de ataque identificados requieren controles de seguridad más allá del nivel básico.</p>
</section>
</section>
<section id="enumeracion-de-requerimientos-asvs-nivel-2">
<h3>4.4. Enumeración de Requerimientos ASVS Nivel 2<a class="headerlink" href="#enumeracion-de-requerimientos-asvs-nivel-2" title="Link to this heading">¶</a></h3>
<p>Basado en el análisis realizado, se enumeran los requerimientos ASVS Nivel 2 relevantes para esta aplicación. El estándar ASVS define 14 categorías de verificación (V1-V14). Se detallan las aplicables:</p>
<section id="v1-architecture-design-and-threat-modeling">
<h4>4.4.1. <strong>V1: Architecture, Design and Threat Modeling</strong><a class="headerlink" href="#v1-architecture-design-and-threat-modeling" title="Link to this heading">¶</a></h4>
<p><strong>Requerimientos ASVS Nivel 2 aplicables</strong>:</p>
<ul class="simple">
<li><p><strong>V1.1</strong>: ✅ Arquitectura de seguridad definida y documentada</p></li>
<li><p><strong>V1.2</strong>: ✅ Análisis de amenazas realizado (análisis CWE-699 completado)</p></li>
<li><p><strong>V1.3</strong>: ✅ Principios de seguridad aplicados (defensa en profundidad)</p></li>
<li><p><strong>V1.4</strong>: ✅ Separación de responsabilidades (frontend/backend/almacenamiento)</p></li>
</ul>
<p><strong>Estado de cumplimiento</strong>: ✅ <strong>CUMPLE</strong> - Arquitectura clara y análisis de amenazas documentado</p>
</section>
<section id="v2-authentication">
<h4>4.4.2. <strong>V2: Authentication</strong><a class="headerlink" href="#v2-authentication" title="Link to this heading">¶</a></h4>
<p><strong>Requerimientos ASVS Nivel 2 aplicables</strong>:</p>
<ul class="simple">
<li><p>⚠️ <strong>No aplicable</strong> - Aplicación monousuario sin autenticación compleja</p></li>
</ul>
<p><strong>Justificación</strong>: La aplicación está diseñada como herramienta personal monousuario, sin sistema de autenticación. El usuario único se identifica mediante USER_ID constante.</p>
</section>
<section id="v3-session-management">
<h4>4.4.3. <strong>V3: Session Management</strong><a class="headerlink" href="#v3-session-management" title="Link to this heading">¶</a></h4>
<p><strong>Requerimientos ASVS Nivel 2 aplicables</strong>:</p>
<ul class="simple">
<li><p>⚠️ <strong>No aplicable</strong> - La aplicación no utiliza sesiones en el servidor</p></li>
</ul>
<p><strong>Justificación</strong>: Al ser monousuario y almacenar datos principalmente en localStorage del cliente, no se requieren sesiones del lado del servidor.</p>
</section>
<section id="v4-access-control">
<h4>4.4.4. <strong>V4: Access Control</strong><a class="headerlink" href="#v4-access-control" title="Link to this heading">¶</a></h4>
<p><strong>Requerimientos ASVS Nivel 2 aplicables</strong>:</p>
<ul class="simple">
<li><p>⚠️ <strong>No aplicable</strong> - Aplicación monousuario sin control de acceso entre usuarios</p></li>
</ul>
<p><strong>Justificación</strong>: Al existir un único usuario (USER_ID = 1), no hay necesidad de control de acceso basado en roles o usuarios.</p>
</section>
<section id="v5-validation-sanitization-and-encoding">
<h4>4.4.5. <strong>V5: Validation, Sanitization and Encoding</strong><a class="headerlink" href="#v5-validation-sanitization-and-encoding" title="Link to this heading">¶</a></h4>
<p><strong>Requerimientos ASVS Nivel 2 aplicables</strong>:</p>
<ul class="simple">
<li><p><strong>V5.1</strong>: ✅ Validación de entrada en todas las fuentes de datos (frontend y backend)</p></li>
<li><p><strong>V5.2</strong>: ✅ Validación de tipos de datos (nombres, números, fechas)</p></li>
<li><p><strong>V5.3</strong>: ✅ Sanitización de entrada (función <code class="docutils literal notranslate"><span class="pre">validate_and_sanitize_name()</span></code> implementada)</p></li>
<li><p><strong>V5.4</strong>: ⚠️ Validación de tipos numéricos mejorable (CWE-1287, CWE-843 pendientes)</p></li>
<li><p><strong>V5.5</strong>: ✅ Validación de límites de rango (altura: 0.4-2.72m, peso: 2-650kg)</p></li>
<li><p><strong>V5.6</strong>: ✅ Validación de formato (fechas en formato ISO)</p></li>
</ul>
<p><strong>Estado de cumplimiento</strong>: ⚠️ <strong>PARCIAL</strong> - Validación robusta implementada, pero falta validación de NaN/Infinity</p>
</section>
<section id="v6-stored-cryptographically-sensitive-data">
<h4>4.4.6. <strong>V6: Stored Cryptographically Sensitive Data</strong><a class="headerlink" href="#v6-stored-cryptographically-sensitive-data" title="Link to this heading">¶</a></h4>
<p><strong>Requerimientos ASVS Nivel 2 aplicables</strong>:</p>
<ul class="simple">
<li><p>⚠️ <strong>No aplicable</strong> - Datos almacenados localmente en cliente, no en servidor</p></li>
</ul>
<p><strong>Justificación</strong>: Los datos sensibles se almacenan en localStorage del navegador (cliente). El backend solo mantiene datos en memoria volátil.</p>
</section>
<section id="v7-error-handling-and-logging">
<h4>4.4.7. <strong>V7: Error Handling and Logging</strong><a class="headerlink" href="#v7-error-handling-and-logging" title="Link to this heading">¶</a></h4>
<p><strong>Requerimientos ASVS Nivel 2 aplicables</strong>:</p>
<ul class="simple">
<li><p><strong>V7.1</strong>: ⚠️ Manejo estructurado de errores (mejorado en validación de nombres, pendiente en conversiones)</p></li>
<li><p><strong>V7.2</strong>: ✅ Códigos de error HTTP apropiados (400, 404, 500)</p></li>
<li><p><strong>V7.3</strong>: ⚠️ Logging de errores mejorable (CWE-703 mejorado parcialmente)</p></li>
<li><p><strong>V7.4</strong>: ✅ No se exponen detalles técnicos de errores al usuario final</p></li>
</ul>
<p><strong>Estado de cumplimiento</strong>: ⚠️ <strong>PARCIAL</strong> - Mejorado en validación de nombres, falta especificar excepciones en conversiones</p>
</section>
<section id="v8-data-protection">
<h4>4.4.8. <strong>V8: Data Protection</strong><a class="headerlink" href="#v8-data-protection" title="Link to this heading">¶</a></h4>
<p><strong>Requerimientos ASVS Nivel 2 aplicables</strong>:</p>
<ul class="simple">
<li><p><strong>V8.1</strong>: ✅ Validaciones defensivas implementadas (antes de cálculos críticos)</p></li>
<li><p><strong>V8.2</strong>: ✅ Headers de seguridad implementados (X-Frame-Options, CSP, etc.)</p></li>
<li><p><strong>V8.3</strong>: ✅ Protección contra clickjacking (CWE-1021 resuelto)</p></li>
<li><p><strong>V8.4</strong>: ⚠️ CORS demasiado permisivo (CWE-942 pendiente para producción)</p></li>
</ul>
<p><strong>Estado de cumplimiento</strong>: ✅ <strong>BUENO</strong> - Headers de seguridad implementados, CORS pendiente de restricción en producción</p>
</section>
<section id="v9-communications">
<h4>4.4.9. <strong>V9: Communications</strong><a class="headerlink" href="#v9-communications" title="Link to this heading">¶</a></h4>
<p><strong>Requerimientos ASVS Nivel 2 aplicables</strong>:</p>
<ul class="simple">
<li><p><strong>V9.1</strong>: ✅ HTTPS recomendado para producción (actualmente HTTP en desarrollo)</p></li>
<li><p><strong>V9.2</strong>: ⚠️ CORS configurado pero permisivo (<code class="docutils literal notranslate"><span class="pre">origins:</span> <span class="pre">&quot;*&quot;</span></code>)</p></li>
<li><p><strong>V9.3</strong>: ⚠️ No se implementa validación de origen específico</p></li>
</ul>
<p><strong>Estado de cumplimiento</strong>: ⚠️ <strong>PARCIAL</strong> - CORS funciona pero es demasiado permisivo para producción</p>
</section>
<section id="v10-malicious-code">
<h4>4.4.10. <strong>V10: Malicious Code</strong><a class="headerlink" href="#v10-malicious-code" title="Link to this heading">¶</a></h4>
<p><strong>Requerimientos ASVS Nivel 2 aplicables</strong>:</p>
<ul class="simple">
<li><p><strong>V10.1</strong>: ✅ Validación y sanitización de entrada implementada</p></li>
<li><p><strong>V10.2</strong>: ✅ Protección contra XSS mediante sanitización de nombres</p></li>
<li><p><strong>V10.3</strong>: ✅ Headers X-XSS-Protection implementados</p></li>
<li><p><strong>V10.4</strong>: ✅ No se ejecuta código no confiable</p></li>
</ul>
<p><strong>Estado de cumplimiento</strong>: ✅ <strong>CUMPLE</strong> - Validación y sanitización robustas implementadas</p>
</section>
<section id="v11-business-logic">
<h4>4.4.11. <strong>V11: Business Logic</strong><a class="headerlink" href="#v11-business-logic" title="Link to this heading">¶</a></h4>
<p><strong>Requerimientos ASVS Nivel 2 aplicables</strong>:</p>
<ul class="simple">
<li><p><strong>V11.1</strong>: ✅ Validación de reglas de negocio (variación de peso máximo por día)</p></li>
<li><p><strong>V11.2</strong>: ✅ Validación de límites de negocio (peso, altura en rangos razonables)</p></li>
</ul>
<p><strong>Estado de cumplimiento</strong>: ✅ <strong>CUMPLE</strong> - Reglas de negocio validadas</p>
</section>
<section id="v12-files-and-resources">
<h4>4.4.12. <strong>V12: Files and Resources</strong><a class="headerlink" href="#v12-files-and-resources" title="Link to this heading">¶</a></h4>
<p><strong>Requerimientos ASVS Nivel 2 aplicables</strong>:</p>
<ul class="simple">
<li><p>⚠️ <strong>Parcialmente aplicable</strong> - Endpoints de importación/exportación de DefectDojo</p></li>
<li><p><strong>V12.1</strong>: ✅ Validación de tipo de archivo (solo <code class="docutils literal notranslate"><span class="pre">.sql</span></code> permitido)</p></li>
<li><p><strong>V12.2</strong>: ✅ Uso de <code class="docutils literal notranslate"><span class="pre">secure_filename()</span></code> para nombres de archivo</p></li>
</ul>
<p><strong>Estado de cumplimiento</strong>: ✅ <strong>CUMPLE</strong> - Validaciones de archivo implementadas</p>
</section>
<section id="v13-api">
<h4>4.4.13. <strong>V13: API</strong><a class="headerlink" href="#v13-api" title="Link to this heading">¶</a></h4>
<p><strong>Requerimientos ASVS Nivel 2 aplicables</strong>:</p>
<ul class="simple">
<li><p><strong>V13.1</strong>: ✅ API REST documentada mediante código</p></li>
<li><p><strong>V13.2</strong>: ✅ Validación de entrada en todos los endpoints</p></li>
<li><p><strong>V13.3</strong>: ⚠️ Sin autenticación/autorización (no aplicable por diseño monousuario)</p></li>
<li><p><strong>V13.4</strong>: ✅ Manejo de errores con códigos HTTP apropiados</p></li>
</ul>
<p><strong>Estado de cumplimiento</strong>: ✅ <strong>BUENO</strong> - API bien estructurada con validación, sin autenticación por diseño</p>
</section>
<section id="v14-configuration">
<h4>4.4.14. <strong>V14: Configuration</strong><a class="headerlink" href="#v14-configuration" title="Link to this heading">¶</a></h4>
<p><strong>Requerimientos ASVS Nivel 2 aplicables</strong>:</p>
<ul class="simple">
<li><p><strong>V14.1</strong>: ✅ Configuración centralizada (<code class="docutils literal notranslate"><span class="pre">app/config.py</span></code>)</p></li>
<li><p><strong>V14.2</strong>: ✅ Headers de seguridad configurados</p></li>
<li><p><strong>V14.3</strong>: ⚠️ CORS configurado pero permisivo en desarrollo</p></li>
</ul>
<p><strong>Estado de cumplimiento</strong>: ✅ <strong>CUMPLE</strong> - Configuración centralizada y bien estructurada</p>
</section>
</section>
<section id="conclusion-del-nivel-asvs">
<h3>4.5. Conclusión del Nivel ASVS<a class="headerlink" href="#conclusion-del-nivel-asvs" title="Link to this heading">¶</a></h3>
<p><strong>Nivel seleccionado</strong>: <strong>NIVEL 2 (ESTÁNDAR)</strong></p>
<p><strong>Justificación resumida</strong>:</p>
<ol class="arabic simple">
<li><p>Maneja datos de salud personales (datos sensibles según RGPD)</p></li>
<li><p>Identificadas múltiples debilidades de seguridad de severidad media</p></li>
<li><p>Requiere controles de seguridad estándar para proteger datos personales</p></li>
<li><p>No requiere controles avanzados (Nivel 3) por no manejar datos críticos</p></li>
</ol>
<p><strong>Estado de cumplimiento</strong>: ✅ <strong>BUENO - EN PROGRESO</strong> - Se han implementado mejoras significativas (headers de seguridad, validación robusta). Faltan mejoras menores en validación de tipos y CORS para alcanzar el cumplimiento completo del Nivel 2.</p>
</section>
</section>
<hr class="docutils" />
<section id="conclusion-final">
<h2>5. Conclusión Final<a class="headerlink" href="#conclusion-final" title="Link to this heading">¶</a></h2>
<section id="resumen-ejecutivo">
<h3>5.1. Resumen Ejecutivo<a class="headerlink" href="#resumen-ejecutivo" title="Link to this heading">¶</a></h3>
<p>La aplicación médica analizada es una herramienta web monousuario para el registro personal de peso e IMC. Aunque no maneja datos médicos críticos, sí procesa <strong>datos de salud personales</strong> que requieren protección adecuada según estándares de seguridad y protección de datos.</p>
<p>El análisis de seguridad basado en <strong>CWE-699 (Software Development)</strong> identificó <strong>6 debilidades de seguridad</strong>, de las cuales:</p>
<ul class="simple">
<li><p><strong>2 están completamente resueltas</strong> (CWE-20: Validación de entrada, CWE-1021: Clickjacking)</p></li>
<li><p><strong>3 requieren atención</strong> (CWE-1287, CWE-843, CWE-942)</p></li>
<li><p><strong>1 está mejorada parcialmente</strong> (CWE-703: Manejo de excepciones)</p></li>
</ul>
</section>
<section id="vectores-de-ataque-principales">
<h3>5.2. Vectores de Ataque Principales<a class="headerlink" href="#vectores-de-ataque-principales" title="Link to this heading">¶</a></h3>
<p>Los principales vectores de ataque identificados son:</p>
<ol class="arabic simple">
<li><p><strong>Type Confusion</strong> (CWE-1287, CWE-843): Validación insuficiente de tipos numéricos que puede resultar en valores <code class="docutils literal notranslate"><span class="pre">NaN</span></code> o <code class="docutils literal notranslate"><span class="pre">Infinity</span></code> en cálculos</p></li>
<li><p><strong>CORS Permisivo</strong> (CWE-942): Configuración que permite peticiones desde cualquier origen, aumentando la superficie de ataque</p></li>
</ol>
<p><strong>Vectores de ataque resueltos</strong>:</p>
<ul class="simple">
<li><p>✅ <strong>Clickjacking</strong> (CWE-1021): Headers de seguridad implementados (<code class="docutils literal notranslate"><span class="pre">X-Frame-Options</span></code>, <code class="docutils literal notranslate"><span class="pre">CSP</span></code>, etc.)</p></li>
</ul>
</section>
<section id="nivel-de-riesgo-general">
<h3>5.3. Nivel de Riesgo General<a class="headerlink" href="#nivel-de-riesgo-general" title="Link to this heading">¶</a></h3>
<p>El <strong>riesgo general de la aplicación es MEDIO</strong>, con los siguientes factores:</p>
<ul class="simple">
<li><p><strong>Riesgos Críticos</strong>: Ninguno identificado</p></li>
<li><p><strong>Riesgos Altos</strong>: CWE-942 (solo si se expone fuera de <code class="docutils literal notranslate"><span class="pre">localhost</span></code>)</p></li>
<li><p><strong>Riesgos Medios</strong>: CWE-1287, CWE-843</p></li>
<li><p><strong>Riesgos Bajos</strong>: CWE-703</p></li>
<li><p><strong>Riesgos Resueltos</strong>: CWE-20 (Validación de entrada), CWE-1021 (Clickjacking)</p></li>
</ul>
</section>
<section id="nivel-asvs-recomendado">
<h3>5.4. Nivel ASVS Recomendado<a class="headerlink" href="#nivel-asvs-recomendado" title="Link to this heading">¶</a></h3>
<p>Se recomienda implementar controles de seguridad según <strong>OWASP ASVS Nivel 2 (Estándar)</strong> debido a:</p>
<ol class="arabic simple">
<li><p><strong>Naturaleza de los datos</strong>: Datos de salud personales (datos sensibles según RGPD)</p></li>
<li><p><strong>Vectores de ataque identificados</strong>: Múltiples debilidades de severidad media</p></li>
<li><p><strong>Requisitos de cumplimiento</strong>: Estándares de seguridad de la industria y protección de datos</p></li>
</ol>
<p><strong>Estado de cumplimiento</strong>: ⚠️ <strong>PARCIAL</strong> - Se requiere implementar mejoras para alcanzar el cumplimiento completo.</p>
</section>
<section id="recomendaciones-prioritarias">
<h3>5.5. Recomendaciones Prioritarias<a class="headerlink" href="#recomendaciones-prioritarias" title="Link to this heading">¶</a></h3>
<p>Para alcanzar el cumplimiento del <strong>ASVS Nivel 2</strong>, se recomienda implementar las siguientes mejoras en orden de prioridad:</p>
<section id="prioridad-alta">
<h4>Prioridad Alta:<a class="headerlink" href="#prioridad-alta" title="Link to this heading">¶</a></h4>
<ol class="arabic simple">
<li><p><strong>Validar NaN e Infinity</strong> en frontend y backend (CWE-1287, CWE-843)</p>
<ul class="simple">
<li><p>Validar tipos antes de conversión</p></li>
<li><p>Verificar que los números sean finitos después de <code class="docutils literal notranslate"><span class="pre">float()</span></code> y <code class="docutils literal notranslate"><span class="pre">parseFloat()</span></code></p></li>
</ul>
</li>
</ol>
</section>
<section id="prioridad-media">
<h4>Prioridad Media:<a class="headerlink" href="#prioridad-media" title="Link to this heading">¶</a></h4>
<ol class="arabic simple" start="3">
<li><p><strong>Restringir CORS en producción</strong> (CWE-942)</p>
<ul class="simple">
<li><p>Limitar orígenes permitidos cuando el backend se exponga fuera de <code class="docutils literal notranslate"><span class="pre">localhost</span></code></p></li>
<li><p>Implementar validación de origen</p></li>
</ul>
</li>
<li><p><strong>Mejorar manejo de excepciones</strong> (CWE-703)</p>
<ul class="simple">
<li><p>Especificar excepciones concretas en lugar de <code class="docutils literal notranslate"><span class="pre">Exception</span></code> genérico</p></li>
<li><p>Implementar logging detallado de errores</p></li>
</ul>
</li>
</ol>
</section>
</section>
<section id="evaluacion-final">
<h3>5.6. Evaluación Final<a class="headerlink" href="#evaluacion-final" title="Link to this heading">¶</a></h3>
<p>La aplicación implementa <strong>buenas prácticas de seguridad</strong> en validación de entrada, headers de seguridad y manejo defensivo de datos. Las mejoras implementadas incluyen:</p>
<ul class="simple">
<li><p>✅ Validación robusta de nombres con sanitización</p></li>
<li><p>✅ Headers de seguridad contra clickjacking</p></li>
<li><p>✅ Validaciones defensivas antes de cálculos críticos</p></li>
<li><p>✅ Arquitectura bien estructurada con análisis de amenazas</p></li>
</ul>
<p>Sin embargo, aún requiere <strong>mejoras en validación de tipos numéricos (NaN/Infinity) y restricción de CORS en producción</strong> para alcanzar el cumplimiento completo del <strong>ASVS Nivel 2</strong>.</p>
<p><strong>Estado general</strong>: ✅ <strong>BUENO - EN PROGRESO HACIA CUMPLIMIENTO COMPLETO</strong></p>
<p>Las debilidades restantes son de <strong>severidad media o baja</strong> y pueden corregirse <strong>sin cambios arquitectónicos significativos</strong>, lo que facilita su implementación y mejorará aún más la postura de seguridad de la aplicación. El progreso realizado muestra un compromiso con la seguridad y buenas prácticas de desarrollo.</p>
<hr class="docutils" />
<p><strong>Fecha de informe</strong>: 2025-11-29<br />
<strong>Analista</strong>: Análisis de seguridad para práctica académica - Basado en CWE-699<br />
<strong>Referencias</strong>:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://cwe.mitre.org/data/definitions/699.html">CWE-699: Software Development</a></p></li>
<li><p><a class="reference external" href="https://owasp.org/www-project-application-security-verification-standard/">OWASP ASVS</a></p></li>
<li><p><a class="reference external" href="https://owasp.org/www-project-top-ten/">OWASP Top 10</a></p></li>
</ul>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="INICIO_RAPIDO.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Inicio Rápido</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="requeriments.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Requerimientos Funcionales</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2025, PumukyDev &amp; Alejandro Quiñones
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Informe de Análisis de Seguridad - Aplicación Médica</a><ul>
<li><a class="reference internal" href="#descripcion-breve-de-la-aplicacion-analizada">1. Descripción Breve de la Aplicación Analizada</a><ul>
<li><a class="reference internal" href="#proposito-y-funcionalidad">1.1. Propósito y Funcionalidad</a></li>
<li><a class="reference internal" href="#caracteristicas-principales">1.2. Características Principales</a></li>
<li><a class="reference internal" href="#arquitectura-tecnica">1.3. Arquitectura Técnica</a></li>
<li><a class="reference internal" href="#analisis-de-datos-que-maneja-la-aplicacion">1.4. Análisis de Datos que Maneja la Aplicación</a><ul>
<li><a class="reference internal" href="#datos-sensibles-personales-de-salud">1.4.1. <strong>Datos Sensibles (Personales de Salud)</strong></a></li>
<li><a class="reference internal" href="#datos-internos">1.4.2. <strong>Datos Internos</strong></a></li>
<li><a class="reference internal" href="#datos-publicos">1.4.3. <strong>Datos Públicos</strong></a></li>
</ul>
</li>
<li><a class="reference internal" href="#contexto-de-seguridad">1.5. Contexto de Seguridad</a></li>
</ul>
</li>
<li><a class="reference internal" href="#identificacion-de-vectores-de-ataque-potenciales">2. Identificación de Vectores de Ataque Potenciales</a><ul>
<li><a class="reference internal" href="#funcionalidades-susceptibles-a-ataques">2.0. Funcionalidades Susceptibles a Ataques</a><ul>
<li><a class="reference internal" href="#formularios-de-registro-de-datos">2.0.1. <strong>Formularios de Registro de Datos</strong></a></li>
<li><a class="reference internal" href="#api-rest-sin-autenticacion">2.0.2. <strong>API REST sin Autenticación</strong></a></li>
<li><a class="reference internal" href="#almacenamiento-local-localstorage">2.0.3. <strong>Almacenamiento Local (localStorage)</strong></a></li>
<li><a class="reference internal" href="#calculos-matematicos-imc">2.0.4. <strong>Cálculos Matemáticos (IMC)</strong></a></li>
<li><a class="reference internal" href="#integracion-con-defectdojo">2.0.5. <strong>Integración con DefectDojo</strong></a></li>
</ul>
</li>
<li><a class="reference internal" href="#vectores-de-ataque-identificados">2.1. Vectores de Ataque Identificados</a><ul>
<li><a class="reference internal" href="#inyeccion-de-datos-maliciosos-type-confusion">2.1.1. <strong>Inyección de Datos Maliciosos (Type Confusion)</strong></a></li>
<li><a class="reference internal" href="#clickjacking-ui-redressing">2.1.2. <strong>Clickjacking (UI Redressing)</strong></a></li>
<li><a class="reference internal" href="#cross-origin-resource-sharing-cors-permisivo">2.1.3. <strong>Cross-Origin Resource Sharing (CORS) Permisivo</strong></a></li>
<li><a class="reference internal" href="#manejo-inadecuado-de-excepciones">2.1.4. <strong>Manejo Inadecuado de Excepciones</strong></a></li>
<li><a class="reference internal" href="#validacion-de-entrada-insuficiente-resuelto">2.1.5. <strong>Validación de Entrada Insuficiente (Resuelto)</strong></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#analisis-de-riesgos-asociados">3. Análisis de Riesgos Asociados</a><ul>
<li><a class="reference internal" href="#matriz-de-riesgos">3.1. Matriz de Riesgos</a></li>
<li><a class="reference internal" href="#analisis-detallado-de-riesgos">3.2. Análisis Detallado de Riesgos</a><ul>
<li><a class="reference internal" href="#riesgo-medio-type-confusion-cwe-1287-cwe-843">3.2.1. <strong>Riesgo MEDIO: Type Confusion (CWE-1287, CWE-843)</strong></a></li>
<li><a class="reference internal" href="#riesgo-medio-clickjacking-cwe-1021-resuelto">3.2.2. <strong>Riesgo MEDIO: Clickjacking (CWE-1021) - RESUELTO</strong></a></li>
<li><a class="reference internal" href="#riesgo-medio-alto-cors-permisivo-cwe-942">3.2.3. <strong>Riesgo MEDIO/ALTO: CORS Permisivo (CWE-942)</strong></a></li>
<li><a class="reference internal" href="#riesgo-bajo-manejo-de-excepciones-cwe-703">3.2.4. <strong>Riesgo BAJO: Manejo de Excepciones (CWE-703)</strong></a></li>
</ul>
</li>
<li><a class="reference internal" href="#resumen-de-riesgos-por-categoria">3.3. Resumen de Riesgos por Categoría</a></li>
</ul>
</li>
<li><a class="reference internal" href="#nivel-asvs-seleccionado-con-justificacion">4. Nivel ASVS Seleccionado, con Justificación</a><ul>
<li><a class="reference internal" href="#owasp-application-security-verification-standard-asvs">4.1. OWASP Application Security Verification Standard (ASVS)</a></li>
<li><a class="reference internal" href="#nivel-seleccionado-nivel-2-estandar">4.2. Nivel Seleccionado: <strong>NIVEL 2 (ESTÁNDAR)</strong></a></li>
<li><a class="reference internal" href="#justificacion-de-la-seleccion">4.3. Justificación de la Selección</a><ul>
<li><a class="reference internal" href="#naturaleza-de-los-datos">4.3.1. <strong>Naturaleza de los Datos</strong></a></li>
<li><a class="reference internal" href="#contexto-de-uso">4.3.2. <strong>Contexto de Uso</strong></a></li>
<li><a class="reference internal" href="#id1">4.3.3. <strong>Vectores de Ataque Identificados</strong></a></li>
<li><a class="reference internal" href="#requisitos-de-cumplimiento">4.3.4. <strong>Requisitos de Cumplimiento</strong></a></li>
<li><a class="reference internal" href="#por-que-no-nivel-3-avanzado">4.3.5. <strong>Por qué NO Nivel 3 (Avanzado)</strong></a></li>
<li><a class="reference internal" href="#por-que-no-nivel-1-basico">4.3.6. <strong>Por qué NO Nivel 1 (Básico)</strong></a></li>
</ul>
</li>
<li><a class="reference internal" href="#enumeracion-de-requerimientos-asvs-nivel-2">4.4. Enumeración de Requerimientos ASVS Nivel 2</a><ul>
<li><a class="reference internal" href="#v1-architecture-design-and-threat-modeling">4.4.1. <strong>V1: Architecture, Design and Threat Modeling</strong></a></li>
<li><a class="reference internal" href="#v2-authentication">4.4.2. <strong>V2: Authentication</strong></a></li>
<li><a class="reference internal" href="#v3-session-management">4.4.3. <strong>V3: Session Management</strong></a></li>
<li><a class="reference internal" href="#v4-access-control">4.4.4. <strong>V4: Access Control</strong></a></li>
<li><a class="reference internal" href="#v5-validation-sanitization-and-encoding">4.4.5. <strong>V5: Validation, Sanitization and Encoding</strong></a></li>
<li><a class="reference internal" href="#v6-stored-cryptographically-sensitive-data">4.4.6. <strong>V6: Stored Cryptographically Sensitive Data</strong></a></li>
<li><a class="reference internal" href="#v7-error-handling-and-logging">4.4.7. <strong>V7: Error Handling and Logging</strong></a></li>
<li><a class="reference internal" href="#v8-data-protection">4.4.8. <strong>V8: Data Protection</strong></a></li>
<li><a class="reference internal" href="#v9-communications">4.4.9. <strong>V9: Communications</strong></a></li>
<li><a class="reference internal" href="#v10-malicious-code">4.4.10. <strong>V10: Malicious Code</strong></a></li>
<li><a class="reference internal" href="#v11-business-logic">4.4.11. <strong>V11: Business Logic</strong></a></li>
<li><a class="reference internal" href="#v12-files-and-resources">4.4.12. <strong>V12: Files and Resources</strong></a></li>
<li><a class="reference internal" href="#v13-api">4.4.13. <strong>V13: API</strong></a></li>
<li><a class="reference internal" href="#v14-configuration">4.4.14. <strong>V14: Configuration</strong></a></li>
</ul>
</li>
<li><a class="reference internal" href="#conclusion-del-nivel-asvs">4.5. Conclusión del Nivel ASVS</a></li>
</ul>
</li>
<li><a class="reference internal" href="#conclusion-final">5. Conclusión Final</a><ul>
<li><a class="reference internal" href="#resumen-ejecutivo">5.1. Resumen Ejecutivo</a></li>
<li><a class="reference internal" href="#vectores-de-ataque-principales">5.2. Vectores de Ataque Principales</a></li>
<li><a class="reference internal" href="#nivel-de-riesgo-general">5.3. Nivel de Riesgo General</a></li>
<li><a class="reference internal" href="#nivel-asvs-recomendado">5.4. Nivel ASVS Recomendado</a></li>
<li><a class="reference internal" href="#recomendaciones-prioritarias">5.5. Recomendaciones Prioritarias</a><ul>
<li><a class="reference internal" href="#prioridad-alta">Prioridad Alta:</a></li>
<li><a class="reference internal" href="#prioridad-media">Prioridad Media:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#evaluacion-final">5.6. Evaluación Final</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=01f34227"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=46bd48cc"></script>
    </body>
</html>